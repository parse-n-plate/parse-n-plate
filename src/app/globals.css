@import 'tailwindcss';

/* Custom CSS Variables for Parse & Plate Design System */
:root {
  /* Colors */
  --color-primary-blue: #0072ff;
  --color-primary-orange: #ff6f00;
  --color-primary-yellow: #ffcc00;
  --color-primary-tomato-red: #ff3b3b;
  --color-primary-fresh-green: #00b96d;
  --color-things3-blue: #007aff;
  --color-background-cream: #fafaf9; /* stone-50 */
  --color-text-heading: #000000;
  --color-text-body: #333333;

  /* Typography - Using Next.js font variables */
  --font-family-serif: var(--font-domine), 'Georgia', 'Times New Roman', serif;
  --font-family-sans: var(--font-albert), 'Helvetica', 'system-ui', sans-serif;

  /* Line Heights */
  --line-height-heading: 1.3;
  --line-height-body: 1.6;

  /* Spacing */
  --spacing-base: 1rem;
  --spacing-lg: 1.5rem;
}

/* Base Typography Styles */
@layer base {
  html {
    font-family: var(--font-family-sans);
    line-height: var(--line-height-body);
    color: var(--color-text-body);
    background-color: #fafaf9; /* stone-50 - consistent landing background */
    overflow-x: hidden;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-family-serif);
    line-height: var(--line-height-heading);
    color: var(--color-text-heading);
    font-weight: 600;
  }

  body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }

  * {
    box-sizing: border-box;
  }
}

/* Utility Classes */
@layer utilities {
  .font-serif {
    font-family: var(--font-family-serif);
  }

  .font-sans {
    font-family: var(--font-family-sans);
  }

  .font-domine {
    font-family: var(--font-domine), 'Georgia', 'Times New Roman', serif;
  }

  .font-albert {
    font-family: var(--font-albert), 'Helvetica', 'system-ui', sans-serif;
  }

  .leading-heading {
    line-height: var(--line-height-heading);
  }

  .leading-body {
    line-height: var(--line-height-body);
  }

  /* Hide scrollbar while maintaining scroll functionality */
  .scrollbar-hide {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }

  .text-heading {
    color: var(--color-text-heading);
  }

  .text-body {
    color: var(--color-text-body);
  }

  .bg-cream {
    background-color: var(--color-background-cream);
  }

  /* Menu component typography - using CSS variables from globals.css */
  .menu-search-input {
    font-family: var(--font-albert);
  }

  .menu-section-label {
    font-family: var(--font-albert);
  }

  .menu-action-label {
    font-family: var(--font-albert);
  }
}

/* Component Styles */
@layer components {
  /* ═══════════════════════════════════════════════════════════════════════════
     YIELD ADJUSTER - Improved ServingsControls Component
     A polished, modern control for adjusting recipe yield and scaling
  ═══════════════════════════════════════════════════════════════════════════ */

  /* Main container - horizontal layout with two sections */
  .yield-adjuster-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 2rem;
    padding: 1.25rem 1.5rem;
    background: linear-gradient(135deg, #fafaf9 0%, #f5f5f4 100%);
    border-radius: 1rem;
    border: 1px solid #e7e5e4;
    box-shadow: 
      0 1px 2px rgba(0, 0, 0, 0.03),
      0 4px 12px rgba(0, 0, 0, 0.02);
  }

  /* Section wrapper - contains label + control */
  .yield-section {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 0.5rem;
  }

  /* Section label - subtle, uppercase, small */
  .yield-section-label {
    font-family: var(--font-albert);
    font-size: 0.6875rem;
    font-weight: 600;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: #a8a29e;
  }

  /* Vertical divider between sections */
  .yield-divider {
    width: 1px;
    height: 3rem;
    background: linear-gradient(
      180deg,
      transparent 0%,
      #d6d3d1 20%,
      #d6d3d1 80%,
      transparent 100%
    );
    flex-shrink: 0;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     STEPPER CARD - The +/- servings control
  ───────────────────────────────────────────────────────────────────────── */

  .yield-stepper-card {
    display: flex;
    align-items: center;
    background: white;
    border-radius: 0.75rem;
    border: 1px solid #e7e5e4;
    box-shadow: 
      0 1px 2px rgba(0, 0, 0, 0.04),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
    overflow: hidden;
  }

  /* Stepper buttons (+ and -) */
  .yield-stepper-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2.5rem;
    height: 2.5rem;
    background: transparent;
    border: none;
    cursor: pointer;
    transition: all 0.15s ease;
    position: relative;
  }

  .yield-stepper-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: transparent;
    transition: background 0.15s ease;
  }

  .yield-stepper-btn:hover:not(:disabled)::before {
    background: rgba(25, 61, 52, 0.06);
  }

  .yield-stepper-btn:active:not(:disabled)::before {
    background: rgba(25, 61, 52, 0.1);
  }

  .yield-stepper-btn:disabled {
    opacity: 0.35;
    cursor: not-allowed;
  }

  .yield-stepper-btn:focus-visible {
    outline: none;
    box-shadow: inset 0 0 0 2px rgba(25, 61, 52, 0.3);
  }

  /* Icon inside stepper buttons */
  .yield-stepper-icon {
    width: 1rem;
    height: 1rem;
    color: #57534e;
    position: relative;
    z-index: 1;
    transition: color 0.15s ease;
  }

  .yield-stepper-btn:hover:not(:disabled) .yield-stepper-icon {
    color: #193d34;
  }

  /* Center value display */
  .yield-value-display {
    display: flex;
    align-items: baseline;
    gap: 0.375rem;
    padding: 0 0.75rem;
    border-left: 1px solid #f5f5f4;
    border-right: 1px solid #f5f5f4;
    min-width: 5.5rem;
    justify-content: center;
  }

  /* The big number */
  .yield-value-number {
    font-family: var(--font-albert);
    font-size: 1.375rem;
    font-weight: 700;
    color: #193d34;
    line-height: 1;
    min-width: 1.5rem;
    text-align: center;
  }

  /* "servings" text */
  .yield-value-unit {
    font-family: var(--font-albert);
    font-size: 0.8125rem;
    font-weight: 500;
    color: #78716c;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     MULTIPLIER PILLS - 1x, 2x, 3x scale options
  ───────────────────────────────────────────────────────────────────────── */

  .yield-multiplier-group {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    background: white;
    padding: 0.25rem;
    border-radius: 0.625rem;
    border: 1px solid #e7e5e4;
    box-shadow: 
      0 1px 2px rgba(0, 0, 0, 0.04),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
  }

  .yield-multiplier-pill {
    padding: 0.5rem 0.875rem;
    border-radius: 0.5rem;
    font-family: var(--font-albert);
    font-size: 0.875rem;
    font-weight: 600;
    border: none;
    background: transparent;
    color: #78716c;
    cursor: pointer;
    transition: all 0.18s ease;
    position: relative;
    overflow: hidden;
  }

  .yield-multiplier-pill::before {
    content: '';
    position: absolute;
    inset: 0;
    background: transparent;
    border-radius: 0.5rem;
    transition: all 0.18s ease;
  }

  .yield-multiplier-pill:hover:not(.yield-multiplier-pill-active)::before {
    background: #f5f5f4;
  }

  .yield-multiplier-pill:focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px rgba(25, 61, 52, 0.3);
  }

  /* Active/selected state */
  .yield-multiplier-pill-active {
    background: #193d34;
    color: white;
    box-shadow: 
      0 2px 4px rgba(25, 61, 52, 0.2),
      0 1px 2px rgba(25, 61, 52, 0.15);
  }

  .yield-multiplier-pill-active:hover {
    background: #1e4a3f;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     RESPONSIVE - Stack on mobile
  ───────────────────────────────────────────────────────────────────────── */

  @media (max-width: 540px) {
    .yield-adjuster-container {
      flex-direction: column;
      align-items: stretch;
      gap: 1.25rem;
      padding: 1.25rem;
    }

    .yield-section {
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      width: 100%;
    }

    .yield-divider {
      width: 100%;
      height: 1px;
      background: linear-gradient(
        90deg,
        transparent 0%,
        #d6d3d1 20%,
        #d6d3d1 80%,
        transparent 100%
      );
    }

    .yield-section-label {
      flex-shrink: 0;
    }
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     LEGACY STYLES - Keeping for backwards compatibility
  ═══════════════════════════════════════════════════════════════════════════ */

  /* Old servings controls container (kept for reference) */
  .servings-controls-container {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

  /* Control Card (shared by servings adjuster and multiplier) */
  .control-card {
    display: inline-flex;
    align-items: center;
    gap: 1rem;
    background-color: white;
    padding: 0.75rem 1.25rem;
    border-radius: 0.75rem;
    border: 1px solid #e7e5e4;
  }

  /* Control Button (for increment/decrement) */
  .control-button {
    width: 2rem;
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0.5rem;
    transition: background-color 0.2s;
    background: transparent;
    border: none;
    cursor: pointer;
  }

  .control-button:hover:not(:disabled) {
    background-color: #f5f5f4;
  }

  .control-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .control-button-icon {
    width: 1rem;
    height: 1rem;
    color: #78716c;
  }

  /* Servings Label */
  .servings-label {
    font-family: var(--font-albert);
    color: #78716c;
  }

  /* Servings Value */
  .servings-value {
    font-family: var(--font-albert);
    font-weight: 600;
    color: #193d34;
    min-width: 20px;
    text-align: center;
  }

  /* Multiplier Label */
  .multiplier-label {
    font-family: var(--font-albert);
    color: #78716c;
  }

  /* Multiplier Container */
  .multiplier-container {
    display: inline-flex;
    gap: 0.5rem;
    background-color: white;
    padding: 0.5rem;
    border-radius: 0.75rem;
    border: 1px solid #e7e5e4;
  }

  /* Multiplier Button */
  .multiplier-button {
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    font-family: var(--font-albert);
    font-weight: 500;
    transition: all 0.2s;
    border: none;
    background: transparent;
    cursor: pointer;
    color: #78716c;
  }

  .multiplier-button:hover {
    background-color: #f5f5f4;
  }

  /* Multiplier Button Selected */
  .multiplier-button-selected {
    background-color: #193d34;
    color: white;
  }

  .multiplier-button-selected:hover {
    background-color: #193d34;
  }

  /* Classic Split View Components */
  .split-view-card {
    background-color: white;
    border-radius: 0.75rem;
    border: 1px solid #e7e5e4;
    padding: 1rem;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  }

  .split-view-step-card {
    background-color: #cff1e8;
    border-radius: 1rem;
    padding: 1.5rem;
  }

  .split-view-step-badge {
    width: 2rem;
    height: 2rem;
    border-radius: 9999px;
    background-color: #193d34;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-albert);
    font-weight: 500;
    font-size: 0.875rem;
  }

  /* Font weight utilities for Albert Sans */
  .font-albert-medium {
    font-family: var(--font-albert);
    font-weight: 500;
  }

  .font-albert-semibold {
    font-family: var(--font-albert);
    font-weight: 600;
  }

  /* Responsive line break - inserts a line break only on larger screens */
  .responsive-break {
    display: none;
  }

  @media (min-width: 1024px) {
    .responsive-break {
      display: block;
      height: 0;
      line-height: 0;
      margin: 0;
      padding: 0;
    }
  }

  /* Ingredient List Component (Linear List Style) */
  .ingredient-list-container {
    display: flex;
    flex-direction: column;
    width: 100%;
    background-color: white;
    border-radius: 8px;
  }

  .ingredient-list-item {
    position: relative;
    width: 100%;
  }

  .ingredient-list-divider {
    position: absolute;
    bottom: 0;
    left: 8px;
    right: 8px;
    height: 1px;
    background-color: #f5f5f4; /* stone-100 */
    border-bottom: 1px solid #f5f5f4;
  }

  .ingredient-list-content {
    display: flex;
    align-items: center; /* Center items vertically */
    gap: 12px;
    padding: 16px 8px; /* Increased vertical padding for more space between items */
    position: relative;
    transition: background-color 0ms;
    border-radius: 8px; /* Rounded corners for hover effect */
  }

  /* Darken background on hover */
  .ingredient-list-item:hover .ingredient-list-content {
    background-color: #fafaf9; /* stone-50 */
  }

  .ingredient-list-checkbox {
    flex-shrink: 0;
    display: flex;
    align-items: center; /* Center checkbox vertically */
  }

  .ingredient-checkbox-input {
    width: 20px;
    height: 20px;
    border: 2px solid #d6d3d1; /* stone-300 */
    border-radius: 4px;
    background-color: white;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    position: relative;
    flex-shrink: 0;
  }

  .ingredient-checkbox-input:checked {
    background-color: #193d34;
    border-color: #193d34;
  }

  .ingredient-checkbox-input:checked::after {
    content: '';
    position: absolute;
    left: 4px;
    top: 2px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 2px 2px 0;
    transform: rotate(45deg);
  }

  .ingredient-list-text-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 2px;
    min-width: 0; /* Allows text truncation */
    padding-right: 40px; /* Space for swap icon */
  }

  .ingredient-list-primary {
    display: flex;
    align-items: center;
    min-height: 20px;
  }

  .ingredient-list-name {
    font-family: var(--font-albert);
    font-weight: 500; /* medium */
    font-size: 14px;
    line-height: 20px;
    /* Color removed - child spans control their own colors */
    margin: 0;
  }

  .ingredient-list-secondary {
    display: flex;
    align-items: center;
    min-height: 16px;
  }

  .ingredient-list-description {
    font-family: var(--font-albert);
    font-weight: 400; /* regular */
    font-size: 12px;
    line-height: 16px;
    color: #78716b; /* stone-600 */
    margin: 0;
  }

  /* Checked State Styles */
  .ingredient-list-item.is-checked .ingredient-list-name,
  .ingredient-list-item.is-checked .ingredient-list-name span,
  .ingredient-list-item.is-checked .ingredient-list-description {
    text-decoration: line-through;
    color: #a8a29e; /* stone-400 */
  }

  /* Swap Button - Only visible on hover */
  .ingredient-list-swap-button {
    position: absolute;
    right: 8px;
    top: 50%; /* Center vertically */
    transform: translateY(-50%); /* Center vertically */
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 4px;
    background: transparent;
    border: none;
    cursor: pointer;
    padding: 8px;
    flex-shrink: 0;
    opacity: 0; /* Hidden by default */
  }

  .ingredient-list-item:hover .ingredient-list-swap-button {
    opacity: 1; /* Visible on hover */
  }

  /* When checked, cross out the swap button (optional, or hide it) */
  /* Based on user request "on click have it crossed out", applying line-through to the button doesn't make sense visually. 
     Assuming the user meant the ingredient text is crossed out when checked. 
     If the user meant the swap button itself should be crossed out, that's unusual.
     Interpreting "on click have it crossed out" as referring to the checklist item.
  */

  .ingredient-list-swap-button:hover {
    background-color: #f5f5f4; /* stone-100 */
  }

  .ingredient-list-swap-icon {
    width: 16px;
    height: 16px;
    color: #78716c; /* stone-500 */
  }

  /* Recent recipe card delete control */
  .recent-recipe-delete-btn {
    position: absolute;
    top: 12px;
    right: 12px;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 9999px;
    border: 1px solid #e7e5e4;
    background-color: rgba(0, 0, 0, 0.04);
    color: #0c0a09;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.2s ease, transform 0.2s ease,
      background-color 0.2s ease, border-color 0.2s ease;
    z-index: 10;
  }

  .group:hover .recent-recipe-delete-btn {
    opacity: 1;
    pointer-events: auto;
  }

  .recent-recipe-delete-btn:hover {
    background-color: #f5f5f4;
    border-color: #d6d3d1;
    transform: scale(1.05);
  }

  .recent-recipe-delete-btn:focus-visible {
    outline: 2px solid #d6d3d1;
    outline-offset: 2px;
  }

  /* Admin drawer and toggle */
  .admin-drawer-overlay {
    position: fixed;
    inset: 0;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    padding: 16px;
    background-color: rgba(12, 10, 9, 0.5);
    backdrop-filter: blur(6px);
    z-index: 60;
  }

  .admin-drawer-panel {
    width: min(720px, 100%);
    background-color: #ffffff;
    border-radius: 16px 16px 12px 12px;
    padding: 20px 20px 16px;
    box-shadow: 0 -18px 60px rgba(0, 0, 0, 0.18);
    border: 1px solid #e7e5e4;
    max-height: 80vh;
    overflow-y: auto;
  }

  .admin-drawer-close {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border-radius: 9999px;
    border: 1px solid #e7e5e4;
    background-color: #f5f5f4;
    color: #1c1917;
    transition: background-color 0.2s ease, border-color 0.2s ease,
      transform 0.2s ease;
  }

  .admin-drawer-close:hover {
    background-color: #e7e5e4;
    border-color: #d6d3d1;
    transform: translateY(-1px);
  }

  .admin-drawer-close:focus-visible {
    outline: 2px solid #0ea5e9;
    outline-offset: 2px;
  }

  .admin-toggle {
    position: relative;
    width: 52px;
    height: 28px;
    border-radius: 9999px;
    background-color: #e7e5e4;
    border: 1px solid #d6d3d1;
    transition: background-color 0.2s ease, border-color 0.2s ease;
    display: inline-flex;
    align-items: center;
    padding: 4px;
  }

  .admin-toggle .admin-toggle-handle {
    display: block;
    width: 20px;
    height: 20px;
    border-radius: 9999px;
    background-color: #ffffff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.12);
    transition: transform 0.2s ease, background-color 0.2s ease;
  }

  .admin-toggle.is-on {
    background-color: #0f172a;
    border-color: #0f172a;
  }

  .admin-toggle.is-on .admin-toggle-handle {
    transform: translateX(24px);
    background-color: #f8fafc;
  }

  .admin-toggle:focus-visible {
    outline: 2px solid #0ea5e9;
    outline-offset: 3px;
  }

  .admin-settings-tab {
    position: fixed;
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 16px 14px;
    min-width: 48px;
    min-height: 64px;
    background-color: #1f2937;
    color: #f8fafc;
    border-radius: 14px 0 0 14px; /* Binder-tab feel */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    border: 1px solid #111827;
    transition: background-color 0.2s ease, transform 0.2s ease,
      box-shadow 0.2s ease;
    z-index: 65;
  }

  .admin-settings-tab:hover {
    background-color: #111827;
    transform: translateY(-50%) translateX(-2px);
    box-shadow: 0 14px 40px rgba(0, 0, 0, 0.28);
  }

  .admin-settings-tab:focus-visible {
    outline: 2px solid #0ea5e9;
    outline-offset: 3px;
  }

  .admin-settings-tab-label {
    font-family: var(--font-albert);
    font-weight: 600;
    font-size: 14px;
    line-height: 1;
  }

  /* Loading overlay accents */
  .fish-bounce {
    animation: fish-bounce 1.4s ease-in-out infinite;
  }

  .loader-dot {
    animation: loader-dot 1.1s ease-in-out infinite;
  }

  @keyframes fish-bounce {
    0% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
    100% {
      transform: translateY(0);
    }
  }

  @keyframes loader-dot {
    0% {
      transform: translateY(0);
      opacity: 0.7;
    }
    50% {
      transform: translateY(-6px);
      opacity: 1;
    }
    100% {
      transform: translateY(0);
      opacity: 0.7;
    }
  }

  /* Ingredient Highlight Effect */
  .ingredient-highlight {
    animation: ingredient-pulse 2s ease-in-out;
  }

  @keyframes ingredient-pulse {
    0% { background-color: transparent; }
    20% { background-color: rgba(207, 241, 232, 0.5); }
    80% { background-color: rgba(207, 241, 232, 0.5); }
    100% { background-color: transparent; }
  }

  /* Tooltip animation */
  .tooltip-animation {
    animation: tooltip-in 0.2s ease-out;
  }

  @keyframes tooltip-in {
    from { opacity: 0; transform: translate(-50%, 4px); }
    to { opacity: 1; transform: translate(-50%, 0); }
  }

  /* Recipe Step List Layout */
  .recipe-step-list-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
    padding: 1rem 0;
    border-bottom: 1px solid #e7e5e4;
    transition: background-color 0.2s ease;
  }

  .recipe-step-list-item:last-child {
    border-bottom: none;
  }

  .recipe-step-list-item:hover {
    background-color: rgba(250, 250, 249, 0.5);
  }

  /* Step image container - square shape */
  .recipe-step-image {
    flex-shrink: 0;
    width: 96px;
    height: 96px;
    border-radius: 0.5rem;
    overflow: hidden;
    border: 1px solid #e7e5e4;
    transition: border-color 0.3s ease, transform 0.3s ease;
  }

  .recipe-step-list-item:hover .recipe-step-image {
    border-color: #d6d3d1;
  }

  .recipe-step-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .recipe-step-list-item:hover .recipe-step-image img {
    transform: scale(1.05);
  }

  /* Quantity highlight styling */
  .quantity-highlight {
    color: #a8a29e; /* stone-400 */
    font-weight: 500;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     INGREDIENT GROUP PROGRESS COUNTER
     Styling for the progress pie counter text (e.g., "0/18")
  ═══════════════════════════════════════════════════════════════════════════ */

  .ingredient-group-progress-counter {
    font-family: var(--font-albert);
    font-size: 0.75rem; /* 12px */
    font-weight: 500; /* medium */
    color: #a8a29e; /* stone-400 */
    font-variant-numeric: tabular-nums; /* Ensures numbers align properly */
    line-height: 1;
  }

  .ingredient-group-progress-counter-below {
    font-family: var(--font-albert);
    font-size: 0.6875rem; /* 11px */
    font-weight: 500; /* medium */
    color: #a8a29e; /* stone-400 */
    text-transform: uppercase;
    letter-spacing: 0.05em;
    line-height: 1.4;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     INGREDIENT GROUP HOVER ANIMATION
     Chevron appears on hover, right-aligned in the header
  ═══════════════════════════════════════════════════════════════════════════ */

  .ingredient-group-chevron {
    opacity: 0;
    transition: opacity 0.18s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .group:hover .ingredient-group-chevron {
    opacity: 1;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     MOBILE TOOLBAR - Fixed bottom navigation for recipe pages
     A pill-shaped toolbar with quick actions: Timer, Servings, Add to Library
  ═══════════════════════════════════════════════════════════════════════════ */

  /* Container - positions the toolbar at the bottom of the viewport */
  .mobile-toolbar-container {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    display: flex;
    justify-content: center;
    padding: 1rem 1rem 1.5rem;
    pointer-events: none; /* Allow clicks to pass through the container */
    z-index: 50;
    /* Only show on mobile (hidden on screens wider than 768px) */
  }

  /* The actual toolbar - pill-shaped with glass effect */
  .mobile-toolbar {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.5rem;
    background: rgba(255, 255, 255, 0.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-radius: 9999px;
    border: 1px solid rgba(231, 229, 228, 0.8);
    box-shadow: 
      0 4px 24px rgba(0, 0, 0, 0.08),
      0 2px 8px rgba(0, 0, 0, 0.04),
      inset 0 1px 0 rgba(255, 255, 255, 0.9);
    pointer-events: auto; /* Re-enable clicks on the toolbar itself */
  }

  /* Individual toolbar buttons */
  .mobile-toolbar-btn {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3.5rem;
    height: 3.5rem;
    border-radius: 9999px;
    border: none;
    background: transparent;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .mobile-toolbar-btn:hover,
  .mobile-toolbar-btn:focus-visible {
    background: #f5f5f4;
  }

  .mobile-toolbar-btn:active {
    transform: scale(0.95);
  }

  .mobile-toolbar-btn:focus-visible {
    outline: 2px solid #193d34;
    outline-offset: 2px;
  }

  /* Active state when panel is open */
  .mobile-toolbar-btn-active {
    background: #193d34;
  }

  .mobile-toolbar-btn-active .mobile-toolbar-icon {
    color: white;
  }

  /* Saved state for library button */
  .mobile-toolbar-btn-saved {
    background: #dcfce7;
  }

  .mobile-toolbar-btn-saved:hover {
    background: #dcfce7;
    cursor: default;
  }

  /* Inner container for button content */
  .mobile-toolbar-btn-inner {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Icons inside buttons */
  .mobile-toolbar-icon {
    width: 1.5rem;
    height: 1.5rem;
    color: #57534e;
    transition: color 0.2s ease;
  }

  .mobile-toolbar-icon-success {
    color: #16a34a;
  }

  /* Timer count badge */
  .mobile-toolbar-badge {
    position: absolute;
    top: -6px;
    right: -6px;
    min-width: 1.125rem;
    height: 1.125rem;
    padding: 0 0.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-albert);
    font-size: 0.625rem;
    font-weight: 700;
    color: white;
    background: #ef4444;
    border-radius: 9999px;
    border: 2px solid white;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TOOLBAR PANELS - Expandable content above the toolbar
  ───────────────────────────────────────────────────────────────────────── */

  /* Backdrop overlay when panel is open */
  .mobile-toolbar-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);
    z-index: 45;
  }

  /* Panel container */
  .mobile-toolbar-panel {
    position: fixed;
    bottom: 6.5rem;
    left: 1rem;
    right: 1rem;
    max-width: 24rem;
    margin: 0 auto;
    background: white;
    border-radius: 1rem;
    border: 1px solid #e7e5e4;
    box-shadow: 
      0 8px 32px rgba(0, 0, 0, 0.12),
      0 4px 16px rgba(0, 0, 0, 0.08);
    overflow: hidden;
    z-index: 55;
    pointer-events: auto;
  }

  /* Panel header */
  .mobile-toolbar-panel-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1rem 1rem 0.75rem;
    border-bottom: 1px solid #f5f5f4;
  }

  .mobile-toolbar-panel-title {
    font-family: var(--font-albert);
    font-size: 0.875rem;
    font-weight: 600;
    color: #1c1917;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .mobile-toolbar-panel-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.75rem;
    height: 1.75rem;
    border-radius: 9999px;
    border: none;
    background: #f5f5f4;
    color: #78716c;
    cursor: pointer;
    transition: all 0.15s ease;
  }

  .mobile-toolbar-panel-close:hover {
    background: #e7e5e4;
    color: #1c1917;
  }

  /* Empty state for timer panel */
  .mobile-toolbar-panel-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    padding: 2.5rem 1.5rem;
    text-align: center;
  }

  .mobile-toolbar-panel-empty-icon {
    width: 1.5rem;
    height: 1.5rem;
    color: #a8a29e; /* stone-400 */
    opacity: 0.6;
  }

  .mobile-toolbar-panel-empty-title {
    font-family: var(--font-albert);
    font-size: 0.875rem;
    font-weight: 500;
    color: #78716c; /* stone-500 */
    line-height: 1.4;
    margin: 0;
  }

  .mobile-toolbar-panel-empty-description {
    font-family: var(--font-albert);
    font-size: 0.75rem;
    font-weight: 400;
    color: #a8a29e; /* stone-400 */
    line-height: 1.4;
    margin: 0;
    max-width: 16rem;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     TIMER LIST - List of active timers in the panel
  ───────────────────────────────────────────────────────────────────────── */

  .mobile-toolbar-timer-list {
    padding: 0.5rem;
  }

  .mobile-toolbar-timer-item {
    display: flex;
    align-items: center;
    padding: 0.75rem;
    background: #f5f5f4;
    border-radius: 0.75rem;
  }

  .mobile-toolbar-timer-item + .mobile-toolbar-timer-item {
    margin-top: 0.5rem;
  }

  .mobile-toolbar-timer-info {
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  .mobile-toolbar-timer-label {
    font-family: var(--font-albert);
    font-size: 0.875rem;
    font-weight: 500;
    color: #1c1917;
  }

  .mobile-toolbar-timer-time {
    font-family: var(--font-albert);
    font-size: 1rem;
    font-weight: 700;
    color: #193d34;
    font-variant-numeric: tabular-nums;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     SERVINGS CONTROL - Stepper inside the panel
  ───────────────────────────────────────────────────────────────────────── */

  .mobile-toolbar-servings-control {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.25rem 1rem;
  }

  .mobile-toolbar-servings-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 3rem;
    height: 3rem;
    border-radius: 9999px;
    border: 1px solid #e7e5e4;
    background: white;
    color: #57534e;
    cursor: pointer;
    transition: all 0.15s ease;
  }

  .mobile-toolbar-servings-btn:hover:not(:disabled) {
    background: #f5f5f4;
    border-color: #d6d3d1;
    color: #193d34;
  }

  .mobile-toolbar-servings-btn:active:not(:disabled) {
    transform: scale(0.95);
  }

  .mobile-toolbar-servings-btn:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }

  .mobile-toolbar-servings-display {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.125rem;
  }

  .mobile-toolbar-servings-value {
    font-family: var(--font-albert);
    font-size: 2rem;
    font-weight: 700;
    color: #193d34;
    line-height: 1;
  }

  .mobile-toolbar-servings-unit {
    font-family: var(--font-albert);
    font-size: 0.75rem;
    font-weight: 500;
    color: #78716c;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  /* ─────────────────────────────────────────────────────────────────────────
     RESPONSIVE - Hide on desktop, show on mobile
  ───────────────────────────────────────────────────────────────────────── */

  /* Hide toolbar on desktop (768px and wider) */
  @media (min-width: 768px) {
    .mobile-toolbar-container,
    .mobile-toolbar-backdrop,
    .mobile-toolbar-panel {
      display: none;
    }
  }

  /* Add bottom padding to page content on mobile to prevent overlap */
  @media (max-width: 767px) {
    .mobile-toolbar-page-padding {
      padding-bottom: 6rem;
    }
  }

  /* Hide servings controls on mobile - it's available in the mobile toolbar */
  .servings-controls-desktop-only {
    display: block;
  }

  @media (max-width: 767px) {
    .servings-controls-desktop-only {
      display: none;
    }
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     COMMAND K SEARCH MODAL STYLES
     Styles for the Command K search modal and search result highlighting
  ═══════════════════════════════════════════════════════════════════════════ */

  /* Search highlight animation - used when jumping to search results */
  .search-highlight {
    animation: search-highlight-pulse 2s ease-in-out;
    border-radius: 0.5rem;
  }

  @keyframes search-highlight-pulse {
    0% {
      background-color: transparent;
    }
    20% {
      background-color: rgba(255, 237, 213, 0.6); /* orange-100 with opacity */
    }
    80% {
      background-color: rgba(255, 237, 213, 0.6);
    }
    100% {
      background-color: transparent;
    }
  }

  /* Highlighted text within search results */
  .search-highlight-text {
    background-color: rgba(255, 237, 213, 0.8);
    padding: 0 0.125rem;
    border-radius: 0.25rem;
    font-weight: 500;
  }

  /* Search modal backdrop blur effect */
  .search-modal-backdrop {
    backdrop-filter: blur(4px);
    -webkit-backdrop-filter: blur(4px);
  }

  /* Search result item hover and focus states */
  .search-result-item {
    transition: background-color 0.15s ease, border-color 0.15s ease;
  }

  .search-result-item:hover {
    background-color: #fafaf9; /* stone-50 */
  }

  .search-result-item:focus-visible {
    outline: 2px solid #4F46E5;
    outline-offset: 2px;
  }

  /* Search badge styles for result types */
  .search-badge {
    font-family: var(--font-albert);
    font-size: 0.75rem;
    font-weight: 500;
    padding: 0.25rem 0.5rem;
    border-radius: 0.375rem;
    text-transform: capitalize;
  }

  /* Command K modal responsive adjustments */
  @media (max-width: 640px) {
    /* Full screen on mobile */
    .command-k-modal-mobile {
      max-width: 100%;
      max-height: 100vh;
      border-radius: 0;
      margin: 0;
      padding-top: 0;
    }
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     SONNER TOAST STYLING
     Styles for Sonner toast notifications using classNames
     Reference: https://sonner.emilkowal.ski/styling
  ═══════════════════════════════════════════════════════════════════════════ */

  /* Toast container */
  .sonner-toast {
    font-family: var(--font-albert) !important;
    max-width: 400px !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
  }

  /* Toast title */
  .sonner-toast-title {
    font-family: var(--font-albert) !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    line-height: 1.4 !important;
  }

  /* Toast description - where our expandable details component lives */
  .sonner-toast-description {
    font-family: var(--font-albert) !important;
    margin-top: 0.5rem !important;
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    max-width: 100% !important;
    overflow: visible !important;
  }

  /* Toast action button */
  .sonner-toast-action-button {
    font-family: var(--font-albert) !important;
  }

  /* Toast cancel button */
  .sonner-toast-cancel-button {
    font-family: var(--font-albert) !important;
  }

  /* Toast close button */
  .sonner-toast-close-button {
    font-family: var(--font-albert) !important;
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     TOAST ERROR DETAILS - Expandable details component
     Styles for the expandable "Show Details" section in error toasts
  ═══════════════════════════════════════════════════════════════════════════ */

  /* Toast error details wrapper */
  .toast-error-details-wrapper {
    margin-top: 0.25rem;
    font-family: var(--font-albert);
    width: 100%;
    max-width: 100%;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  /* Error explanation text */
  .toast-error-explanation {
    font-size: 0.875rem;
    color: #78716c;
    line-height: 1.5;
    margin: 0 0 0.5rem 0;
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
  }

  /* Toggle button for show/hide details */
  .toast-error-toggle-btn {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    font-size: 0.75rem;
    font-weight: 500;
    font-family: var(--font-albert);
    color: #57534e;
    background: transparent;
    border: none;
    padding: 0.25rem 0.5rem;
    margin-left: -0.5rem;
    margin-right: 0;
    border-radius: 0.25rem;
    cursor: pointer;
    transition: all 0.15s ease;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .toast-error-toggle-btn:hover {
    color: #1c1917;
    background-color: #f5f5f4;
  }

  .toast-error-toggle-btn:focus {
    outline: 2px solid #d6d3d1;
    outline-offset: 2px;
  }

  .toast-error-toggle-btn:active {
    transform: scale(0.98);
  }

  /* Suggestions container */
  .toast-error-suggestions {
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid #e7e5e4;
    animation: toast-fade-in 0.2s ease-in;
  }

  /* Suggestions list */
  .toast-error-suggestions-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.375rem;
  }

  /* Individual suggestion item */
  .toast-error-suggestion-item {
    display: flex;
    align-items: flex-start;
    gap: 0.5rem;
    font-size: 0.75rem;
    color: #78716c;
    line-height: 1.5;
    word-wrap: break-word;
    overflow-wrap: break-word;
    max-width: 100%;
  }

  /* Bullet point */
  .toast-error-bullet {
    color: #a8a29e;
    margin-top: 0.125rem;
    flex-shrink: 0;
  }

  /* Suggestion text */
  .toast-error-suggestion-text {
    flex: 1;
    min-width: 0;
    word-wrap: break-word;
    overflow-wrap: break-word;
  }

  /* Fade in animation */
  @keyframes toast-fade-in {
    from {
      opacity: 0;
      transform: translateY(-4px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* ═══════════════════════════════════════════════════════════════════════════
     LANDING PAGE ONLOAD ANIMATION
     Smooth fade-in-up animation for landing page content sections
  ═══════════════════════════════════════════════════════════════════════════ */

  /* Fade-in-up animation keyframe */
  @keyframes page-fade-in-up {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Base fade-in-up animation class */
  .page-fade-in-up {
    animation: page-fade-in-up 0.6s ease-out forwards;
  }

  /* Staggered delay classes for sequential animations */
  .page-fade-delay-1 {
    animation-delay: 0.15s;
  }

  .page-fade-delay-2 {
    animation-delay: 0.3s;
  }
}
